import{A as f,B as v,j as b,l as x,o as u,c as d,a as i,f as l,K as g,C as r,t as h,g as _,I as y}from"./vue.esm-bundler-CZ3ueO3F.js";import{C}from"./CustomText-BC4nv-RF.js";import{F as V}from"./FormField-CCL6YDgQ.js";import{G as E}from"./GradientButton-DGOTdbFd.js";import{c,r as S,e as $,u as k}from"./index-tcxgHYDn.js";import{s as w}from"./api-BH_1epYS.js";import{u as B}from"./authStore-EiLZ59az.js";const F=f(()=>({email:{required:c.withMessage("Required",S),email:c.withMessage("Invalid email",$)}})),M={class:"px-4 mb-5"},N={key:0,class:"text-red-500 text-sm","data-cy":"email-error"},q=v({__name:"EmailSubmit",setup(A){const t=B(),s=b(!1),e=x({email:t.user.email}),a=k(F,e),m=async()=>{if(a.value.$touch(),a.value.$validate(),!a.value.$error){s.value=!0;const o=await w(e.email);setTimeout(()=>{s.value=!1,o.status===200?t.setCurrentModal("login",e.email):o.status===404&&t.setCurrentModal("signup",e.email)},1e3)}};return(o,n)=>(u(),d(y,null,[i("div",null,[l(C,{class:"mb-5 text-base text-center",text:"Enter your email"})]),i("div",M,[i("form",{class:"flex flex-col space-y-2","data-cy":"email-form",onSubmit:g(m,["prevent"])},[l(V,{modelValue:e.email,"onUpdate:modelValue":n[0]||(n[0]=p=>e.email=p),placeholder:"Email Address",iconClass:"fa-solid fa-envelope text-base text-black/70",value:e.email,updateValue:r(a).email.$touch,"data-cy":"email-input"},null,8,["modelValue","value","updateValue"]),r(a).$error?(u(),d("div",N,h(r(a).email.$errors[0].$message),1)):_("",!0),l(E,{text:"Enter",buttonType:"submit",buttonClass:"text-white","data-cy":"submit-button",handleClick:m,isLoading:s.value},null,8,["isLoading"])],32)])],64))}});q.__docgenInfo={exportName:"default",displayName:"EmailSubmit",description:"",tags:{},sourceFiles:["/home/tans/Documents/job/aladia/frontend-qa-selection/frontend/components/organisms/EmailSubmit.vue"]};export{q as _};
